# buoy-measuring-sea-waves
Designing a buoy measuring sea waves
Проектирование буя, измеряющего морское волнение

Целью данной работы является построение спектра перемещения периодического движения объекта на основе показаний акселерометра. В качестве датчика используется 3-ех осевой акселерометр/гироскоп MPU6050, который определяет линейные ускорения и угловые скорости объекта по 3-ем осям.

1) Определение углового положения необходимо для преобразования ускорений из связанной СК в нормальную СК. Оно вычисляется из углов, образуемых ускорением свободного падения и его проекциями на оси датчика φ_a=arcsin⁡(a/g), а также с помощью интегрирования угловых скоростей φ_ω=φ_0+ωt. Комплементарный фильтр использует оба этих угла φ=K∙φ_a+(1-K)∙φ_ω.

2) Для преобразования ускорений из связанной СК в нормальную СК используется матрица поворота.

3) Строится частотный спектр ускорений S_a (ω) с помощью Дискретного Преобразования Фурье (ДПФ). Для этого используется формула преобразования

      ![image](https://github.com/SemenNogtev/buoy-measuring-sea-waves/assets/90692406/9ae8749e-87f8-4b47-81f6-9f091b1def97),
   где x_n – измеренные значения сигнала,
   X_k – комплексная амплитуда k-ой гармоники.
   Поскольку амплитуды комплексные, то по ним можно вычислить и амплитуду, и фазу:
   |X_k|/N – обычная (вещественная) амплитуда k-ой гармоники, arg⁡(X_k) – фаза k-ой гармоники.
   
4) На основании спектра ускорений S_a (ω) строится спектр перемещений S_h (ω).
   Взаимосвязь между этими величинами определяется общим соотношением между амплитудами ускорения и перемещения произвольной гармоники |X|=|A/ω^2|, где A – амплитуда ускорения, X – амплитуда перемещения, ω – угловая частота и имеет вид
   
      ![image](https://github.com/SemenNogtev/buoy-measuring-sea-waves/assets/90692406/562c4970-ca47-4143-8fa2-a4389294e209).

   Данный спектр показывает амплитуды и частоты гармоник, отражающих периодическое движение объекта.
   
Одной из возможных прикладных задач является измерение высоты волн на море. Спектр перемещений S_h (ω) покажет амплитуды и частоты колебаний поплавка на воде. Также данный алгоритм может использоваться в различных технических системах для определения амплитудно-частотных параметров колебаний и вибраций.
